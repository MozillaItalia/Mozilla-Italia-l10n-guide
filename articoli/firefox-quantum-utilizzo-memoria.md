Questa è la traduzione dell’articolo <a href="http://www.erahm.org/2017/09/25/firefox-memory-usage-in-the-quantum-era/" target="_blank" rel="noopener">Firefox Memory Usage in the Quantum Era</a> pubblicato sul blog di Eric Rahm. Per ulteriori informazioni sulle tecniche e gli strumenti adottati fare riferimento all’<a href="http://www.erahm.org/2017/05/15/firefox-memory-usage-with-multiple-content-processes/%22">articolo precedente</a> sul blog di Eric Rahm. Traduzione a cura di <a href="https://github.com/Sav22999">Sav22999</a>.

La prossima versione di Firefox, la numero 57, punta soprattutto sulle prestazioni. <a href="https://wiki.mozilla.org/Quantum">Quantum</a> ha influenzato molti aspetti di Firefox, ma non abbiamo ancora affrontato l’argomento dell’uso di memoria, che spesso viene messo in secondo piano per concentrarsi sulla ricerca di prestazioni elevate. Da quando il <a href="http://www.erahm.org/2017/05/25/are-we-slim-yet-is-dead-all-hail-are-we-slim-yet/">progetto AWSY</a> è stato incorporato nell’infrastruttura del codice Mozilla, è più facile monitorare l’utilizzo della memoria e le regressioni anche <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1378526">su rami di sviluppo separati</a>. Il team di sviluppo del nuovo motore per i CSS, Stylo, ha fatto ampio uso di questa funzione e i risultati sono evidenti. Al settimo giorno abbiamo attivato AWSY come impostazione predefinita per il progetto Stylo. A partire dal momento dell’attivazione, è possibile notare nel grafico una regressione significativa ma, al sedicesimo giorno, era quasi completamente scomparsa:

[caption id="attachment_2115" align="aligncenter" width="650"]<a href="https://www.mozillaitalia.org/home/wp-content/uploads/2017/10/Screenshot-2017-9-26-Explicit-Memory-summary-opt-stylo-disabled-linux64-stylo-disabled-mozilla-central-and-others.png"><img class="wp-image-2115 size-large" src="https://www.mozillaitalia.org/home/wp-content/uploads/2017/10/Screenshot-2017-9-26-Explicit-Memory-summary-opt-stylo-disabled-linux64-stylo-disabled-mozilla-central-and-others-650x443.png" alt="" width="650" height="443" /></a> Utilizzo della memoria in Stylo[/caption]

https://twitter.com/nnethercote/status/908838175891611648

Con questo speriamo di averti convinto sull’impegno profuso per il miglioramento delle prestazioni, adesso però vediamo come Firefox se la cava a livello di consumo di memoria rispetto agli altri browser.

La <a href="http://www.erahm.org/2017/03/10/are-they-slim-yet-round-2/">metodologia utilizzata</a> per il secondo ciclo di test è stata la stessa utilizzata in precedenza: utilizzando il codice del <a href="https://github.com/EricRahm/atsy">progetto ATSY</a> abbiamo aperto una trentina di pagine nei vari browser e misurato l’utilizzo di memoria dei processi avviati per gestire tali operazioni.
<h2>I risultati</h2>
[caption id="attachment_2116" align="aligncenter" width="600"]<a href="https://www.mozillaitalia.org/home/wp-content/uploads/2017/10/chart1.png"><img class="size-full wp-image-2116" src="https://www.mozillaitalia.org/home/wp-content/uploads/2017/10/chart1.png" alt="" width="600" height="371" /></a> Utilizzo della memoria dei web browser in tutti i sistemi operativi[/caption]

Edge è il browser che consuma più memoria su Windows, Chrome lo segue a ruota con un utilizzo che è 1,4 volte superiore a quello di Firefox sui sistemi Windows a 64-bit e quasi il doppio sui sistemi Linux. Per ciò che riguarda i sistemi macOS, stando almeno ai dati delle ultime misurazioni effettuate, Safari è al momento il browser che utilizza più memoria e Chrome e Firefox sono più o meno sullo stesso livello.

Complessivamente sono abbastanza soddisfatto per i risultati raggiunti, ora che la grande spinta per migliorare le prestazioni è venuta meno, vorrei vedere maggior lavoro sulla diminuzione del consumo di memoria in modo da poter iniziare ad aumentare il numero di processi per la gestione dei contenuti. Inoltre vorrei approfondire il comportamento su macOS, considerato che rappresenta la nostra regressione principale.

I browser web inclusi nel test sono Edge 38 su Windows 10, <a href="https://www.google.com/chrome/browser/beta.html">Chrome Beta 62</a> su tutte le piattaforme, <a href="https://www.mozilla.org/firefox/channel/desktop/">Firefox Beta 57</a> su tutte le piattaforme e <a href="https://developer.apple.com/safari/technology-preview/">Safari Technology Preview 40</a> su macOS 10.12.6.

<em>I test su Safari sono stati effettuati una seconda volta manualmente perché, probabilmente a causa delle modifiche negli ultimi aggiornamenti del browser, utilizzando ATSY le pagine venivano caricate tutte in un unico processo.</em>
